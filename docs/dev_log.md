# 开发日志 Dev Log

## 2025-07-18

### ✅ 今日进展
- 初步完成视频下载、语音识别、字幕生成的主流程，MVP 基本跑通
- 解决 Whisper 自动生成英文字幕的问题。初步判断由于开头 50 秒环境音影响语言检测，计划拼接一分钟法语语音片段后再识别，并调整字幕时间轴（offset）

### 📚 今日收获
- 更熟悉完整开发流程：从终端搭建项目框架 → Python 虚拟环境管理 → Git 版本控制
- Terminal 小笔记：`cmd` vs `PowerShell` 是两套体系，Anaconda PowerShell 更适合 Python 项目开发；用 PowerShell 批量生成目录和文件很高效
- Python 虚拟环境：推荐直接在项目根目录创建并激活，便于管理依赖
- Git：开始尝试分阶段提交和使用 `.gitignore` 忽略不必要文件夹（如虚拟环境）

### 🐞 遇到的问题
- Whisper 自动将法语音频识别为英文字幕，初步判断开头环境音影响语言识别；计划拼接法语引导段+调整时间轴 offset
- ⚠️ 在 Jupyter Notebook 里 `pip install` 无效，需在 Anaconda Prompt 或终端使用 `conda install` 安装依赖（可能是 kernel 环境不一致导致）
- `ffmpeg` 参数硬编码，不便于复用或适配不同输入
- 项目结构仍不清晰，准备将音频预处理、语音识别、字幕格式化模块化拆分

### ❗明日计划
- whisper medium模型+gpu
- 实现自动拼接法语引导段+调整时间轴 offset

### 🚀提升 Whisper 字幕准确率的方向

| 环节  | 建议                    |
| --- | --------------------- |
| 输入  | 音频降噪 + 增强 + 音频分段 |
| 模型  | `medium` + GPU        |
| 后处理 | 拼写纠正 + 句子润色 |
| 可选  | 微调whisper,成本太高，可以对识别错误的地方选择性增强训练|
